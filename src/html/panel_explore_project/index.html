{{header}}
{{menu_panel}}
<main class="my-plan__main">
    <div class="my-plan__title-container">
        <h1 class="my-plan__title">{{Explorar}}</h1>
        <section class="panel-explore-filters-container">
            <select name="explore_filter" id="explore_filter" required>
                <option value="" disabled selected hidden>{{Filtrar}}</option>
            </select>
            <input type="search" name="explore_input_search" id="explore_input_search">
        </section>
        <div class="my-plan__title-container__button-container">
            <button class="black my-plan__title-container__button">
                Upgrade
            </button>
            <button class="ghost my-plan__title-container__button">
                <img src="{{cdn_val}}/assets/icons/notifications.svg" alt="Notificações" width="24" height="24">
            </button>
        </div>
    </div>

    <section class="explore__title-container">
        <h3>{{Fila de processamento}}</h3>
        <ul id="models_in_process_ul">
            {{html_models_in_processing}}
        </ul>
    </section>

    <section class="explore__table-container">
        <div class="explore__table-container__title-container relative">
            <h2>{{Meus projetos}}</h2>
            <button class="explore-create-more-options" aria-controls="explore_create_more_options" aria-expanded="false">{{Criar}} +</button>
            <menu id="explore_create_more_options" class="menu--explore-create-options none">
                <li>
                    <button>
                        <img src="{{cdn_val}}/assets/icons/create_new_folder.svg" width="24" height="24" alt="" loading="lazy"> <span>{{Pasta}}</span>
                    </button>
                </li>
                <li>
                    <button>
                        <img src="{{cdn_val}}/assets/icons/note_stack_add.svg" width="24" height="24" alt="" loading="lazy"> <span>{{Federado}}</span>
                    </button>
                </li>
                <li>
                    <a href="{{domain_name_url_val}}/panel_create_project">
                        <button>
                            <img src="{{cdn_val}}/assets/icons/cloud_upload_black.svg" width="24" height="24" alt="" loading="lazy"> <span>{{Projeto}}</span>
                        </button>
                    </a>
                </li>
            </menu>
        </div>
        <table class="explore__table">
            <thead>
                <tr>
                    <th colspan="1">{{Nome}}</th>
                    <th colspan="1">{{Criação}}</th>
                    <th colspan="2">{{Tamanho}}</th>
                </tr>
            </thead>
            <tbody id="user_folder_rows_tbody">
                {{html_user_folder_rows}}
            </tbody>
        </table>
    </section>

</main>
<div id="rename-modal" class="modal rename-modal" aria-hidden="true">
    <div class="content-modal max-width">
        <div class="modal-header">
            <h1 class="modal-header-title">{{Renomear}}</h1>
        </div>
        <div class="modal-content">
            <div class="login__input-container">
                <div class="floating-input">
                    <input type="hidden" id="model_id_filename_input">
                    <input type="text" name="model_filename" value="" id="model_filename_input" placeholder="" required autofocus maxlength="500">
                    <label for="model_filename">{{Nome do Projeto}}</label>
                </div>
                <p class="input-hint">{{Digite o novo nome desejado para seu projeto.}}</p>
            </div>
            <span class="error" style="{{error_msg_visibility_val}}" id="model_filename_error_span">
                {{error_msg_val}}
            </span>
            <div class="modal-button-container">
                <button onclick="js.index.closeModal('.modal.rename-modal')" class="ghost">{{Cancelar}}</button>
                <button onclick="js.index.saveModelFilename()">{{Renomear}}</button>
            </div>
        </div>
    </div>
</div>


<div id="share-modal" class="modal share-modal" aria-hidden="true">
    <div class="content-modal max-width">
        <div class="modal-header">
            <h1 class="modal-header-title">{{Compartilhar}}</h1>
        </div>
        <div class="modal-content">
            <input hidden id="update_model_id_input">
            <h2 class="share-modal__project-name" id="share_project_name_span"></h2>
            <div class="qrcode-container">
                <img class="qrcode__image" src="" id="model_share_link_qrcode_img" width="128" height="128" alt="QRCODE">
                <div class="qrcode__input-container">
                    <input class="qrcode__input" value="" id="copy_share_link_input" readonly>
                    <div class="qrcode__button-container">
                        <button class="qrcode__button" onclick="js.index.copyValueToClipboard(this)" value="" id="copy_share_link_button">Copiar</button>
                    </div>
                </div>
            </div>
            <div class="share-protection-container">
                <!-- <label class="switch" for="project_is_password_protected_input">
                    <input onclick="js.index.showHideElement('project_password_div')" type="checkbox" name="project_is_password_protected" id="project_is_password_protected_input">
                    <div class="slider round"></div>
                </label>
                <label for="project_is_password_protected_input">Proteger Compartilhamento com Senha</label> -->


                <div class="switch-container" id="project_is_password_protected_switch_div">
                    <div class="input-container">
                        <input onchange="js.index.showHideElement('project_password_div')" type="checkbox" name="project_is_password_protected" id="project_is_password_protected_input">
                        <label class="switch" for="project_is_password_protected_input">
                            <div class="slider"></div>
                        </label>
                    </div>
                    <label for="project_is_password_protected_input">{{Proteger Compartilhamento com Senha}}</label>
                </div>


            </div>
            <div id="project_password_div" class="project-password-container">
                <div class="input-default input-password input-default--share-modal">
                    <input placeholder="Definir Senha" type="password" name="project_password" value="" id="project_password_input" autocapitalize="off" autocorrect="off">
                    <button type="button" class="toggle-password-button button--icon" onclick="js.index.togglePasswordText(this, 'project_password_input')" aria-label="Mostrar senha." aria-controls="toggle-password-image">
                        <img id="toggle-password-image" src="{{cdn_val}}/assets/icons/visibility.svg" alt="Icone de olho" width="24" height="24">
                    </button>
                </div>
                <p>Opcional: Preencha para proteger seu link</p>
            </div>
            <span class="error" style="{{error_msg_visibility_val}}" id="model_password_error_span">
                {{error_msg_val}}
            </span>
            <div class="modal-button-container">
                <button class="button--modal button--cancel-modal ghost" onclick="js.index.closeModal('.modal.share-modal')">Cancelar</button>
                <button class="button--modal" onclick="js.index.updateModelPassword('project_password_input')" id="update_model_password_button">Aplicar</button>
            </div>
        </div>
    </div>
</div>

<script>
    window.onload = async function () {
        while (true) {
            await js.index.sleep(10000);
            await js.index.processingProjectsUpdateUl();
        }
    };
</script>

{{footer}}