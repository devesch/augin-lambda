{{header}}
{{menu_panel}}
<main class="my-plan__main">
    <div class="my-plan__title-container">
        <h1 class="my-plan__title">{{Explorar}}</h1>
        <section class="panel-explore-filters-container">
            <select name="explore_filter" id="explore_filter" required>
                <option value="" disabled selected hidden>{{Filtrar}}</option>
            </select>
            <input type="search" name="explore_input_search" id="explore_input_search">
        </section>
        <div class="my-plan__title-container__button-container">
            <button class="black my-plan__title-container__button">
                Upgrade
            </button>
            <button class="ghost my-plan__title-container__button">
                <img src="{{cdn_val}}/assets/icons/notifications.svg" alt="{{Notificações}}" width="24" height="24">
            </button>
        </div>
    </div>

    <section class="explore__title-container">
        <h3>{{Fila de processamento}}</h3>
        <ul id="models_in_process_ul">
            {{html_models_in_processing}}
        </ul>
    </section>

    <section class="explore__table-container">
        <div class="explore__table-container__title-container relative">
            <h2>{{Meus projetos}}</h2>
            <button class="explore-create-more-options" aria-controls="explore_create_more_options" aria-expanded="false">{{Criar}} +</button>
            <menu id="explore_create_more_options" class="menu--explore-create-options none">
                <li>
                    <button>
                        <img src="{{cdn_val}}/assets/icons/create_new_folder.svg" width="24" height="24" alt="" loading="lazy"> <span>{{Pasta}}</span>
                    </button>
                </li>
                <li>
                    <button>
                        <img src="{{cdn_val}}/assets/icons/note_stack_add.svg" width="24" height="24" alt="" loading="lazy"> <span>{{Federado}}</span>
                    </button>
                </li>
                <li>
                    <a href="{{domain_name_url_val}}/panel_create_project">
                        <button>
                            <img src="{{cdn_val}}/assets/icons/cloud_upload_black.svg" width="24" height="24" alt="" loading="lazy"> <span>{{Projeto}}</span>
                        </button>
                    </a>
                </li>
            </menu>
        </div>
        <table class="explore__table">
            <input hidden id="sort_attribute_input" value="model_name">
            <input hidden id="sort_reverse_input" value="False">
            <thead>
                <tr>
                    <th onclick="js.index.sortProjectsBy('model_name')" colspan="1">{{Nome}} <img id="model_name_sort_image" src="{{cdn_val}}/assets/icons/arrow_downward_alt.svg" alt="{{Ícone de seta pra baixo}}" width="24" height="24"></th>
                    <th onclick="js.index.sortProjectsBy('created_at')" colspan="1">{{Criação}} <img id="created_at_sort_image" style="display:none;" src="{{cdn_val}}/assets/icons/arrow_downward_alt.svg" alt="{{Ícone de seta pra baixo}}" width="24" height="24"></th>
                    <th onclick="js.index.sortProjectsBy('model_filesize_ifc')" colspan="2">{{Tamanho}} <img id="model_filesize_ifc_sort_image" style="display:none;" src="{{cdn_val}}/assets/icons/arrow_downward_alt.svg" alt="{{Ícone de seta pra baixo}}" width="24" height="24"></th>
                </tr>
            </thead>
            <tbody id="user_folder_rows_tbody">
                {{html_user_folder_rows}}
            </tbody>
        </table>
    </section>

</main>
<div id="rename-modal" class="modal rename-modal" aria-hidden="true">
    <div class="content-modal max-width">
        <div class="modal-header">
            <h1 class="modal-header-title">{{Renomear}}</h1>
        </div>
        <div class="modal-content">
            <div>
                <div class="floating-input">
                    <input type="hidden" id="model_id_name_input">
                    <input type="text" name="model_name" value="" id="model_name_input" placeholder="" required autofocus minlength="1" maxlength="500">
                    <label for="model_name">{{Nome atual do arquivo}}</label>
                </div>
            </div>
            <span class="error" style="{{error_msg_visibility_val}}" id="model_name_error_span">
                {{error_msg_val}}
            </span>
            <div class="modal-button-container">
                <button onclick="js.index.closeModal('.modal.rename-modal')" class="ghost">{{Cancelar}}</button>
                <button onclick="js.index.saveModelName()">{{Salvar}}</button>
            </div>
        </div>
    </div>
</div>


<div id="share-modal" class="modal share-modal" aria-hidden="true">
    <div class="content-modal max-width">
        <div class="modal-header">
            <h1 class="modal-header-title">{{Compartilhar}}</h1>
        </div>
        <div class="modal-content">
            <input hidden id="update_model_id_input">
            <h2 class="share-modal__project-name" id="share_project_name_span"></h2>
            <div class="qrcode-container">
                <img class="qrcode__image" src="" id="model_share_link_qrcode_img" width="128" height="128" alt="{{QRCODE}}">
                <div class="qrcode__input-container">
                    <input class="qrcode__input" value="" id="copy_share_link_input" readonly>
                    <div class="qrcode__button-container">
                        <button class="qrcode__button" onclick="js.index.copyValueToClipboard(this)" value="" id="copy_share_link_button">Copiar</button>
                    </div>
                </div>
            </div>
            <div class="share-protection-container">
                <!-- <label class="switch" for="project_is_password_protected_input">
                    <input onclick="js.index.showHideElement('project_password_div')" type="checkbox" name="project_is_password_protected" id="project_is_password_protected_input">
                    <div class="slider round"></div>
                </label>
                <label for="project_is_password_protected_input">Proteger Compartilhamento com Senha</label> -->


                <div class="switch-container" id="project_is_password_protected_switch_div">
                    <div class="input-container">
                        <input onchange="js.index.showHideElement('project_password_div')" type="checkbox" name="project_is_password_protected" id="project_is_password_protected_input">
                        <label class="switch" for="project_is_password_protected_input">
                            <div class="slider"></div>
                        </label>
                    </div>
                    <label for="project_is_password_protected_input">{{Proteger Compartilhamento com Senha}}</label>
                </div>


            </div>
            <div id="project_password_div" class="project-password-container">
                <div class="input-default input-password input-default--share-modal">
                    <input placeholder="Definir Senha" type="password" name="project_password" value="" id="project_password_input" autocapitalize="off" autocorrect="off">
                    <button type="button" class="toggle-password-button button--icon" onclick="js.index.togglePasswordText(this, 'project_password_input')" aria-label="Mostrar senha." aria-controls="toggle-password-image">
                        <img id="toggle-password-image" src="{{cdn_val}}/assets/icons/visibility.svg" alt="{{Ícone de olho}}" width="24" height="24">
                    </button>
                </div>
                <p>Opcional: Preencha para proteger seu link</p>
            </div>
            <span class="error" style="{{error_msg_visibility_val}}" id="model_password_error_span">
                {{error_msg_val}}
            </span>
            <div class="modal-button-container">
                <button class="button--modal button--cancel-modal ghost" onclick="js.index.closeModal('.modal.share-modal')">Cancelar</button>
                <button class="button--modal" onclick="js.index.updateModelPassword('project_password_input')" id="update_model_password_button">Aplicar</button>
            </div>
        </div>
    </div>
</div>

<div id="select-category-modal" class="modal select-category-modal" aria-hidden="true">
    <div class="content-modal max-width">
        <div class="modal-header">
            <h1 class="modal-header-title">{{Selecionar categoria}}</h1>
        </div>
        <div class="modal-content">
            <ul class="select-category-list">
                <li>
                    <input type="radio" name="select_category" value="Air conditioning" id="Air conditioning">
                    <label for="Air conditioning">
                        <img src="{{cdn_val}}/assets/icons/ios-snow.svg" alt="" width="24" height="24">
                        <p>{{Ar condicionado}}</p>
                    </label>
                </li>
                <li>
                    <input type="radio" name="select_category" value="Architecture" id="Architecture">
                    <label for="Architecture">
                        <img src="{{cdn_val}}/assets/icons/water-outline.svg" alt="" width="24" height="24">
                        <p>{{Hidrosanitário}}</p>
                    </label>
                </li>
                <li>
                    <input type="radio" name="select_category" value="Electric" id="Electric">
                    <label for="Electric">
                        <img src="{{cdn_val}}/assets/icons/home-outline.svg" alt="" width="24" height="24">
                        <p>{{Arquitetura}}</p>
                    </label>
                </li>
                <li>
                    <input type="radio" name="select_category" value="Structural" id="Structural">
                    <label for="Structural">
                        <img src="{{cdn_val}}/assets/icons/flame-outline.svg" alt="" width="24" height="24">
                        <p>{{Incêndio}}</p>
                    </label>
                </li>
                <li>
                    <input type="radio" name="select_category" value="Executive" id="Executive">
                    <label for="Executive">
                        <img src="{{cdn_val}}/assets/icons/flash-outline.svg" alt="" width="24" height="24">
                        <p>{{Elétrica}}</p>
                    </label>
                </li>
                <li>
                    <input type="radio" name="select_category" value="Gas" id="Gas">
                    <label for="Gas">
                        <img src="{{cdn_val}}/assets/icons/globe-outline.svg" alt="" width="24" height="24">
                        <p>{{Infraestrutura}}</p>
                    </label>
                </li>
                <li>
                    <input type="radio" name="select_category" value="Hydraulics" id="Hydraulics">
                    <label for="Hydraulics">
                        <img src="{{cdn_val}}/assets/icons/extension-puzzle-outline.svg" alt="" width="24" height="24">
                        <p>{{Estrutural}}</p>
                    </label>
                </li>
                <li>
                    <input type="radio" name="select_category" value="Fire" id="Fire">
                    <label for="Fire">
                        <img src="{{cdn_val}}/assets/icons/cafe-outline.svg" alt="" width="24" height="24">
                        <p>{{Interiores}}</p>
                    </label>
                </li>
                <li>
                    <input type="radio" name="select_category" value="Infrastructure" id="Infrastructure">
                    <label for="Infrastructure">
                        <img src="{{cdn_val}}/assets/icons/hammer-outline.svg" alt="" width="24" height="24">
                        <p>{{Executivo}}</p>
                    </label>
                </li>
                <li>
                    <input type="radio" name="select_category" value="Interiors" id="Interiors">
                    <label for="Interiors">
                        <img src="{{cdn_val}}/assets/icons/file-tray-full-outline.svg" alt="" width="24" height="24">
                        <p>{{Projetos federado}}</p>
                    </label>
                </li>
                <li>
                    <input type="radio" name="select_category" value="Federated" id="Federated">
                    <label for="Federated">
                        <img src="{{cdn_val}}/assets/icons/balloon-outline.svg" alt="" width="24" height="24">
                        <p>{{Gás}}</p>
                    </label>
                </li>
                <li>
                    <input type="radio" name="select_category" value="Others" id="Others">
                    <label for="Others">
                        <img src="{{cdn_val}}/assets/icons/documents-outline.svg" alt="" width="24" height="24">
                        <p>{{Outros}}</p>
                    </label>
                </li>
            </ul>
            <span class="error" style="{{error_msg_visibility_val}}" id="model_category_error_span">
                {{error_msg_val}}
            </span>
            <div class="modal-button-container">
                <input hidden id="model_id_selected_category_input">
                <button onclick="js.index.closeModal('.modal.select-category-modal')" class="ghost">{{Cancelar}}</button>
                <button onclick="js.index.updateModelCategory()">{{Salvar}}</button>
            </div>
        </div>
    </div>
</div>

<script>
    window.onload = async function () {
        while (true) {
            await js.index.sleep(10000);
            await js.index.processingProjectsUpdateUl();
        }
    };
</script>

{{footer}}